<div *ngIf="loading" class="text-center p-10">
  Loading order details...
</div>

<div *ngIf="!loading && order" class="max-w-3xl mx-auto p-6">

<h2 class="text-xl font-bold mb-4">Order #{{order.id}}</h2>

<!-- STATUS STEPPER -->
<div class="flex items-center justify-between mb-8">

  <ng-container *ngFor="let step of steps; let i=index">

    <div class="flex flex-col items-center">

      <div
        class="w-8 h-8 rounded-full text-white flex items-center justify-center"
        [class.bg-green-600]="isCompleted(step)"
        [class.bg-gray-400]="!isCompleted(step)">
        {{i+1}}
      </div>

      <p class="text-sm mt-1">{{step}}</p>
    </div>

    <div *ngIf="i<steps.length-1"
         class="flex-1 h-1 mx-2"
         [class.bg-green-600]="isCompleted(steps[i+1])"
         [class.bg-gray-300]="!isCompleted(steps[i+1])">
    </div>

  </ng-container>

</div>

<!-- ORDER INFO -->
<p><b>Status:</b> {{order.status}}</p>
<p><b>Total:</b> ₹{{order.totalAmount}}</p>

<h3 class="font-semibold mt-4">Items</h3>

<div *ngFor="let item of order.items" class="border p-3 rounded mb-2">
  {{item.productName}} × {{item.quantity}} = ₹{{item.price * item.quantity}}
</div>

</div>
