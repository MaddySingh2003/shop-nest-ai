<app-navbar></app-navbar>

<div class="bg-gray-100 min-h-screen py-10 px-4">

  <div class="max-w-6xl mx-auto">

    <h2 class="text-3xl font-bold text-gray-800 mb-8">
      ðŸ›’ Shopping Cart
    </h2>

    <div *ngIf="cart?.items?.length > 0; else empty"
         class="grid md:grid-cols-3 gap-8">

      <!-- LEFT SIDE - CART ITEMS -->
      <div class="md:col-span-2 space-y-6">

        <div *ngFor="let item of cart.items"
             class="bg-white rounded-2xl shadow-sm hover:shadow-md transition p-6">

          <div class="flex justify-between items-start">

            <!-- Product Info -->
            <div>
              <h4 class="text-lg font-semibold text-gray-800">
                {{ item.productName }}
              </h4>
              <p class="text-gray-500 mt-1">
                â‚¹ {{ item.price }}
              </p>

              <!-- Remove -->
              <button
                class="text-red-500 text-sm mt-3 hover:text-red-700 transition"
                (click)="remove(item.itemId)">
                Remove
              </button>
            </div>

            <!-- Quantity + Total -->
            <div class="text-right">

              <!-- Quantity Controls -->
              <div class="flex items-center justify-end gap-3 mb-3">

                <button
                  class="w-8 h-8 flex items-center justify-center 
                         bg-gray-200 hover:bg-gray-300 rounded-full transition"
                  (click)="decrease(item)">
                  âˆ’
                </button>

                <span class="font-semibold text-lg">
                  {{ item.quantity }}
                </span>

                <button
                  class="w-8 h-8 flex items-center justify-center 
                         bg-gray-200 hover:bg-gray-300 rounded-full transition"
                  (click)="increase(item)">
                  +
                </button>

              </div>

              <p class="font-bold text-lg text-gray-800">
                â‚¹ {{ item.price * item.quantity }}
              </p>

            </div>

          </div>

        </div>

      </div>

      <!-- RIGHT SIDE - ORDER SUMMARY -->
      <div class="bg-white rounded-2xl shadow-md p-6 h-fit">

        <h3 class="text-xl font-semibold mb-6">
          Order Summary
        </h3>

        <div class="flex justify-between mb-3 text-gray-600">
          <span>Subtotal</span>
          <span>â‚¹ {{ total }}</span>
        </div>

        <div class="flex justify-between mb-3 text-gray-600">
          <span>Shipping</span>
          <span class="text-green-600 font-medium">Free</span>
        </div>

        <hr class="my-4">

        <div class="flex justify-between text-lg font-bold">
          <span>Total</span>
          <span>â‚¹ {{ total }}</span>
        </div>

        <button
          routerLink="/checkout"
          class="w-full bg-black hover:bg-gray-900 
                 text-white py-3 rounded-xl mt-6 transition">
          Proceed to Checkout
        </button>

        <button
          class="w-full border border-red-500 text-red-500 
                 hover:bg-red-50 py-3 rounded-xl mt-3 transition"
          (click)="clearCart()">
          Clear Cart
        </button>

      </div>

    </div>

    <!-- EMPTY STATE -->
    <ng-template #empty>
      <div class="bg-white rounded-2xl shadow-md p-12 text-center mt-10">

        <div class="text-6xl mb-4">ðŸ›’</div>

        <p class="text-gray-600 text-lg mb-2">
          Your cart is empty
        </p>

        <p class="text-gray-400 mb-6">
          Looks like you haven't added anything yet.
        </p>

        <a routerLink="/home"
           class="bg-black text-white px-6 py-3 rounded-xl hover:bg-gray-900 transition">
          Start Shopping
        </a>

      </div>
    </ng-template>

  </div>

</div>
